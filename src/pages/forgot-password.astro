---
import Layout from "../layouts/Layout.astro";
import AuthLayout from "../layouts/AuthLayout.astro";
import { ForgotPasswordForm } from "../components/Auth/ForgotPasswordForm";

// Redirect authenticated users to /generate
const user = Astro.locals.user;
if (user) {
  return Astro.redirect("/generate");
}

const error = Astro.url.searchParams.get("error");
const success = Astro.url.searchParams.get("success");
---

<Layout title="Resetowanie hasÅ‚a - 10x Cards">
  <AuthLayout>
    <ForgotPasswordForm client:load error={error || undefined} success={success || undefined} />
  </AuthLayout>
</Layout>
